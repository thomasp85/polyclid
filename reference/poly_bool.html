<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="polyclid extents the set of boolean set operations from euclid to work with
polylines and polygons or sets of these. As boolean operations has the
capacity to produce multiple polygons or poylines from a single one, the
output from boolean operations will always be a polygon_set or
polyline_set even if the input are polygon or polyline vectors. In
fact the polygon and polyline versions of these operations are simple
wrappers that converts their input to their respective set versions first."><title>Boolean set operations on polygons and polylines — poly_bool • polyclid</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Gelasio-0.4.4/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.4/font.css" rel="stylesheet"><link href="../deps/Montserrat-0.4.4/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Boolean set operations on polygons and polylines — poly_bool"><meta property="og:description" content="polyclid extents the set of boolean set operations from euclid to work with
polylines and polygons or sets of these. As boolean operations has the
capacity to produce multiple polygons or poylines from a single one, the
output from boolean operations will always be a polygon_set or
polyline_set even if the input are polygon or polyline vectors. In
fact the polygon and polyline versions of these operations are simple
wrappers that converts their input to their respective set versions first."><meta property="og:image" content="https://polyclid.r-euclid.com/reference/figures/card.png"><meta property="og:image:alt" content="polyclid: Polygon and polyline for euclid"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@thomasp85"><meta name="twitter:site" content="@rstudio"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">polyclid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-euclid-ecosystem">Euclid ecosystem</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-euclid-ecosystem">
    <h6 class="dropdown-header" data-toc-skip>Foundation</h6>
    <a class="external-link dropdown-item" href="https://r-euclid.com">Euclid</a>
    <a class="dropdown-item" href="https://polyclid.r-euclid.com">Polyclid</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thomasp85/polyclid/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Boolean set operations on polygons and polylines</h1>
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/polyclid/blob/HEAD/R/poly_boolean.R" class="external-link"><code>R/poly_boolean.R</code></a></small>
      <div class="d-none name"><code>poly_bool.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>polyclid extents the set of boolean set operations from euclid to work with
polylines and polygons or sets of these. As boolean operations has the
capacity to produce multiple polygons or poylines from a single one, the
output from boolean operations will always be a <a href="polygon_set.html">polygon_set</a> or
<a href="polyline_set.html">polyline_set</a> even if the input are <a href="polygon.html">polygon</a> or <a href="polyline.html">polyline</a> vectors. In
fact the polygon and polyline versions of these operations are simple
wrappers that converts their input to their respective set versions first.</p>
    </div>


    <div class="section level2">
    <h2 id="operations-between-polygons">Operations between polygons<a class="anchor" aria-label="anchor" href="#operations-between-polygons"></a></h2>
    <p>When set operations are performed between polygons and/or polygon sets (or
euclid geometries that can be considered polygons: circles, triangles and iso
rectangles), the output is always a <a href="polygon_set.html">polygon_set</a>, even if the result is a
single polygon. This is done both to ensure a known output type, but also
because polygon sets are the internal representation used during boolean
operations and returning the native representation is thus more performant.</p><ul><li><p><code><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union()</a></code> will combine two polygons into one (if they touch or overlaps) or
insert them into the same set if they are disjoint.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection()</a></code> will return the area where the two inputs are interior
joint (overlapping).</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference()</a></code> will remove the overlapping areas from the polygon(s) first
given in the first argument.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference()</a></code> will return the areas of the inputs that are not
overlapping.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">complement()</a></code> returns the inverse of the input, i.e. the areas that were
outside of the input polygon(s) will be inside the returned polygon.</p></li>
</ul><p>If only one argument is given, the cumulative operation is performed on the
input. For <code><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union()</a></code> and <code><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection()</a></code> this can be done in a single
aggregate operation whereas for <code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference()</a></code> and <code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference()</a></code>
are done one at a time.</p>
    </div>
    <div class="section level2">
    <h2 id="operations-between-polylines">Operations between polylines<a class="anchor" aria-label="anchor" href="#operations-between-polylines"></a></h2>
    <p>Boolean set operations between polylines and/or polyline sets (or segments)
will always return polyline sets. These sets can be a mix of polylines and
isolated vertices depending on the input.</p><ul><li><p><code><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union()</a></code> will combine the polylines into a single set. Lines that are
meeting at their end points will not be merged, but can be extracted with
<code>as_polyline(..., simplify = TRUE)</code>. The reason for this is that merging
these lines eagerly is bad for performance and will not alter the topology
of the set. Further, the set already splits polylines into x monotone parts
so there is not a 1-to-1 relationship between polylines and polyline sets
either way.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection()</a></code> will return the points where the inputs are crossing along
with the line segments where they are overlapping.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference()</a></code> will insert vertices in the first polyline (set) where the
inputs are crossing and remove line segments that overlap.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference()</a></code> will return those parts from either input that do
not overlap</p></li>
</ul><p>contrary to polygons, there is not a single argument version for polylines,
mainly because the need is not really there.</p>
    </div>
    <div class="section level2">
    <h2 id="operations-between-polylines-and-polygons">Operations between polylines and polygons<a class="anchor" aria-label="anchor" href="#operations-between-polylines-and-polygons"></a></h2>
    <p>When doing operations between polygons and polylines the interpretation of
what should happen is unclear. The following definitions are therefore mainly
what makes sense in the context of this package. The return value is always a
polyline set, but depending on the operation, it may be the faces of this set
that has interpretational relevance.</p><ul><li><p><code><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union()</a></code> will combine the polylines and polygons into a single set. Where
they overlap the polyline interior to the polygon will be removed as it's
point set is covered by that of the polygon</p></li>
<li><p><code><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection()</a></code> will return the polyline part that lies inside the polygon
as that represent the shared point set.</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference()</a></code> if the polyline (set) is the first argument then the parts
overlapping the polygon will be removed. If the polygon (set) is the first
argument the polygon(s) will be cut by the into two or more by the
polyline(s).</p></li>
<li><p><code><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference()</a></code> will return the polylines and polygons overlayed
into a single polygon set. For many this is what they assume the union to
be.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Polygons</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">circ</span> <span class="op">&lt;-</span> <span class="fu"><a href="polygon.html">as_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/circle.html" class="external-link">circle</a></span><span class="op">(</span><span class="fu">euclid</span><span class="fu">::</span><span class="fu"><a href="https://r-euclid.com/reference/point.html" class="external-link">point</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rect1</span> <span class="op">&lt;-</span> <span class="fu"><a href="polygon.html">polygon</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rect2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">rect1</span>, <span class="fu">euclid</span><span class="fu">::</span><span class="fu"><a href="https://r-euclid.com/reference/affine_transformation.html" class="external-link">affine_translate</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/vec.html" class="external-link">vec</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Union of disjoint polygons places them in the same set</span></span></span>
<span class="r-in"><span><span class="va">rects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union</a></span><span class="op">(</span><span class="va">rect1</span>, <span class="va">rect2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rects</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Union of overlapping polygons</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union</a></span><span class="op">(</span><span class="va">rects</span>, <span class="va">circ</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Intersection of disjoint polygons is empty</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection</a></span><span class="op">(</span><span class="va">rect1</span>, <span class="va">rect2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;2D polyclid_polygon_sets [1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] [empty]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For overlapping polygons it gives the overlap</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection</a></span><span class="op">(</span><span class="va">rects</span>, <span class="va">circ</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Difference cuts out one polygon from the other</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference</a></span><span class="op">(</span><span class="va">rects</span>, <span class="va">circ</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference</a></span><span class="op">(</span><span class="va">circ</span>, <span class="va">rects</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># and symmetric difference gives the disjoint parts</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference</a></span><span class="op">(</span><span class="va">rects</span>, <span class="va">circ</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># complement flippes it around, turning a bounded polygon into an unbounded</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">complement</a></span><span class="op">(</span><span class="va">rects</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Polylines</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sine</span> <span class="op">&lt;-</span> <span class="fu"><a href="polyline.html">polyline</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">*</span><span class="va">pi</span>, length.out <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">*</span><span class="va">pi</span>, length.out <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">loop</span> <span class="op">&lt;-</span> <span class="fu"><a href="polyline.html">polyline</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">line</span> <span class="op">&lt;-</span> <span class="fu"><a href="polyline.html">polyline</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Union combines the two polyline (sets) and splits up lines where they cross</span></span></span>
<span class="r-in"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union</a></span><span class="op">(</span><span class="va">sine</span>, <span class="va">loop</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/subgeometries.html" class="external-link">vert</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Union will both return the isolated vertices of the cross points along with</span></span></span>
<span class="r-in"><span><span class="co"># any overlapping segments</span></span></span>
<span class="r-in"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection</a></span><span class="op">(</span><span class="va">sine</span>, <span class="va">loop</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">sine</span>, <span class="va">loop</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/subgeometries.html" class="external-link">vert</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection</a></span><span class="op">(</span><span class="va">line</span>, <span class="va">loop</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">line</span>, <span class="va">loop</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="va">ps</span>, col <span class="op">=</span> <span class="st">"red"</span>, lty <span class="op">=</span> <span class="fl">3</span>, lwd <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/subgeometries.html" class="external-link">vert</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="polygon_set.html">vert_degree</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Difference will cut lines at intersection points and remove overlapping</span></span></span>
<span class="r-in"><span><span class="co"># segments from the first argument</span></span></span>
<span class="r-in"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference</a></span><span class="op">(</span><span class="va">loop</span>, <span class="va">line</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/subgeometries.html" class="external-link">vert</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-11.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Symmetric difference will remove overlapping segments from the union</span></span></span>
<span class="r-in"><span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference</a></span><span class="op">(</span><span class="va">loop</span>, <span class="va">line</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/subgeometries.html" class="external-link">vert</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-12.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Polygons and polylines</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Union merges the two, removing any segments of the polyline interior to the</span></span></span>
<span class="r-in"><span><span class="co"># polygon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">union</a></span><span class="op">(</span><span class="va">sine</span>, <span class="va">circ</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-13.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Intersection returns the part of the polyline interior to the polygon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rect1</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="va">loop</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://r-euclid.com/reference/euclid_plot.html" class="external-link">euclid_plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/intersection.html" class="external-link">intersection</a></span><span class="op">(</span><span class="va">loop</span>, <span class="va">rect1</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-14.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Difference depends on whether the polygon or polyline is the first argument</span></span></span>
<span class="r-in"><span><span class="co"># subtracting a polygon from a polyline removes the parts of the polyline</span></span></span>
<span class="r-in"><span><span class="co"># interior to the polygon</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference</a></span><span class="op">(</span><span class="va">loop</span>, <span class="va">rect1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-15.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># subtracting a polyline from a polygon will cut the polygon along the lines</span></span></span>
<span class="r-in"><span><span class="co"># where the polyline intersects it</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">difference</a></span><span class="op">(</span><span class="va">rect1</span>, <span class="va">loop</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-16.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Symmetric difference is the union of the two difference results which is</span></span></span>
<span class="r-in"><span><span class="co"># basically the overlay of the two topologies</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/boolean_operations.html" class="external-link">symmetric_difference</a></span><span class="op">(</span><span class="va">rect1</span>, <span class="va">loop</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="poly_bool-17.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Many problems within polygon algorithms can be solved by partitioning the
polygon into convex parts and solving it for these instead. Even more strict
some solutions require working on a triangle partition (which is easily
constructed from a convex polygon). partition_convex() provides two
algorithms for convex partitioning of polygons with the option to further
partition the convex parts into triangles. The optimal algorithm ensures the
minimum number of resulting partitions at the expense of memory (O(n^3)) and
time (O(n^4)) cost with n being the number of vertices in the polygon.
Alternatively the non-optimal algorithm is much faster (O(n log n)) and
produces at most 4 times the number of partitions that the optimal would.
Another class of partition is one that produces y-monotone polygons, that is,
polygons that are formed by two y-monotone polylines. This partition type is
provided by partition_monotone()."><title>Partition polygons into triangles or convex polygons — partition • polyclid</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Gelasio-0.4.5/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.5/font.css" rel="stylesheet"><link href="../deps/Montserrat-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Partition polygons into triangles or convex polygons — partition"><meta property="og:description" content="Many problems within polygon algorithms can be solved by partitioning the
polygon into convex parts and solving it for these instead. Even more strict
some solutions require working on a triangle partition (which is easily
constructed from a convex polygon). partition_convex() provides two
algorithms for convex partitioning of polygons with the option to further
partition the convex parts into triangles. The optimal algorithm ensures the
minimum number of resulting partitions at the expense of memory (O(n^3)) and
time (O(n^4)) cost with n being the number of vertices in the polygon.
Alternatively the non-optimal algorithm is much faster (O(n log n)) and
produces at most 4 times the number of partitions that the optimal would.
Another class of partition is one that produces y-monotone polygons, that is,
polygons that are formed by two y-monotone polylines. This partition type is
provided by partition_monotone()."><meta property="og:image" content="https://polyclid.r-euclid.com/reference/figures/card.png"><meta property="og:image:alt" content="polyclid: Polygon and polyline for euclid"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@thomasp85"><meta name="twitter:site" content="@rstudio"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">polyclid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/polyclid.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-euclid-ecosystem">Euclid ecosystem</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-euclid-ecosystem">
    <h6 class="dropdown-header" data-toc-skip>Foundation</h6>
    <a class="external-link dropdown-item" href="https://r-euclid.com">Euclid</a>
    <a class="dropdown-item" href="https://polyclid.r-euclid.com">Polyclid</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Utilities</h6>
    <a class="external-link dropdown-item" href="https://boundaries.r-euclid.com">Boundaries</a>
    <a class="external-link dropdown-item" href="https://orion.r-euclid.com">Orion</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thomasp85/polyclid/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Partition polygons into triangles or convex polygons</h1>
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/polyclid/blob/HEAD/R/polygon_partition.R" class="external-link"><code>R/polygon_partition.R</code></a></small>
      <div class="d-none name"><code>partition.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Many problems within polygon algorithms can be solved by partitioning the
polygon into convex parts and solving it for these instead. Even more strict
some solutions require working on a triangle partition (which is easily
constructed from a convex polygon). <code>partition_convex()</code> provides two
algorithms for convex partitioning of polygons with the option to further
partition the convex parts into triangles. The optimal algorithm ensures the
minimum number of resulting partitions at the expense of memory (O(n^3)) and
time (O(n^4)) cost with n being the number of vertices in the polygon.
Alternatively the non-optimal algorithm is much faster (O(n log n)) and
produces at most 4 times the number of partitions that the optimal would.
Another class of partition is one that produces y-monotone polygons, that is,
polygons that are formed by two y-monotone polylines. This partition type is
provided by <code>partition_monotone()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">partition_convex</span><span class="op">(</span><span class="va">x</span>, optimal <span class="op">=</span> <span class="cn">FALSE</span>, triangulate <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">partition_monotone</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A <code>polyclid_polygon</code> vector</p></dd>


<dt>optimal</dt>
<dd><p>Should the optimal algorithm be used</p></dd>


<dt>triangulate</dt>
<dd><p>Should the convex partition further be partitioned into
triangles</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>polyclid_polyline_set</code> vector. The partitions can be extracted
from that.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">poly</span> <span class="op">&lt;-</span> <span class="fu"><a href="polygon.html">polygon</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">391</span>, <span class="fl">240</span>, <span class="fl">252</span>, <span class="fl">374</span>, <span class="fl">289</span>, <span class="fl">134</span>, <span class="fl">68</span>, <span class="fl">154</span>, <span class="fl">161</span>, <span class="fl">435</span>, <span class="fl">208</span>, <span class="fl">295</span>, <span class="fl">421</span>, <span class="fl">441</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">374</span>, <span class="fl">431</span>, <span class="fl">340</span>, <span class="fl">320</span>, <span class="fl">214</span>, <span class="fl">390</span>, <span class="fl">186</span>, <span class="fl">259</span>, <span class="fl">107</span>, <span class="fl">108</span>, <span class="fl">148</span>, <span class="fl">160</span>, <span class="fl">212</span>, <span class="fl">303</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">poly</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Optimal</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">partition_convex</span><span class="op">(</span><span class="va">poly</span>, optimal <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Approx (no obvious quality degradation in this case)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">partition_convex</span><span class="op">(</span><span class="va">poly</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Triangulate the resulting partitions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">partition_convex</span><span class="op">(</span><span class="va">poly</span>, triangulate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do a monotone partition</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">partition_monotone</span><span class="op">(</span><span class="va">poly</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you want to work on the polygons further you convert it to a polygon vector</span></span></span>
<span class="r-in"><span><span class="fu"><a href="polygon.html">as_polygon</a></span><span class="op">(</span><span class="fu">partition_monotone</span><span class="op">(</span><span class="va">poly</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;2D polyclid_polygons [3]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] [Boundary: 3, Range: &lt;&lt;68, 186&gt;, &lt;154, 390&gt;&gt;, Holes: 0] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] [Boundary: 8, Range: &lt;&lt;134, 107&gt;, &lt;435, 390&gt;&gt;, Holes: 0]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] [Boundary: 7, Range: &lt;&lt;240, 212&gt;, &lt;441, 431&gt;&gt;, Holes: 0]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If the polygon contains holes new vertices may get introduced as those are</span></span></span>
<span class="r-in"><span><span class="co"># connected to the outer boundary first using `connect_holes()`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="polygon_rings.html">hole</a></span><span class="op">(</span><span class="va">poly</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-euclid.com/reference/iso_rect.html" class="external-link">iso_rect</a></span><span class="op">(</span><span class="fu"><a href="https://r-euclid.com/reference/point.html" class="external-link">point</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">200</span><span class="op">)</span>, <span class="fu"><a href="https://r-euclid.com/reference/point.html" class="external-link">point</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">250</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">partition_monotone</span><span class="op">(</span><span class="va">poly</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use `ignore_inner = TRUE` to avoid extracting holes from a partition</span></span></span>
<span class="r-in"><span><span class="va">res_with_hole</span> <span class="op">&lt;-</span> <span class="fu"><a href="polygon.html">as_polygon</a></span><span class="op">(</span><span class="fu">partition_monotone</span><span class="op">(</span><span class="va">poly</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res_with_hole</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="partition-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

